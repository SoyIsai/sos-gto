document.addEventListener('DOMContentLoaded', function() {
    // Menú emergencias
    const emergenciasBtn = document.getElementById('emergencias-btn');
    const btnEmergenciaMain = document.getElementById('btn-emergencia-main');
    const emergencyMenu = document.querySelector('.emergency-menu');
    const menuOverlay = document.querySelector('.menu-overlay');
    const closeMenuBtn = document.querySelector('.close-menu');

    // Abrir menú desde cualquier botón
    [emergenciasBtn, btnEmergenciaMain].forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            emergencyMenu.classList.add('active');
            menuOverlay.classList.add('active');
        });
    });

    // Cerrar menú
    closeMenuBtn.addEventListener('click', closeMenu);
    menuOverlay.addEventListener('click', closeMenu);

    function closeMenu() {
        emergencyMenu.classList.remove('active');
        menuOverlay.classList.remove('active');
    }

    // Generar contenido dinámico del menú
    const menuCategories = document.querySelector('.menu-categories');
    const categorias = [
        {
            nombre: "Médicas",
            icono: "fa-kit-medical",
            color: "#FFEBEE",
            items: [
                { nombre: "Ataque Cardiaco", icono: "fa-heart-pulse", enlace: "#" },
                { nombre: "Hemorragias", icono: "fa-droplet", enlace: "#" },
                { nombre: "Quemaduras", icono: "fa-fire", enlace: "#" }
            ]
        },
        {
            nombre: "Naturales",
            icono: "fa-cloud-bolt",
            color: "#E3F2FD",
            items: [
                { nombre: "Terremoto", icono: "fa-house-tsunami", enlace: "#" },
                { nombre: "Inundación", icono: "fa-water", enlace: "#" },
                { nombre: "Incendio", icono: "fa-fire", enlace: "#" }
            ]
        },
        {
            nombre: "Accidentes",
            icono: "fa-car-burst",
            color: "#FFF8E1",
            items: [
                { nombre: "Tráfico", icono: "fa-car-crash", enlace: "#" },
                { nombre: "Domésticos", icono: "fa-house-chimney-medical", enlace: "#" },
                { nombre: "Laborales", icono: "fa-helmet-safety", enlace: "#" }
            ]
        }
    ];

    let menuHTML = '';
    categorias.forEach(categoria => {
        menuHTML += `
        <div class="category">
            <h4 style="background: ${categoria.color}">
                <i class="fas ${categoria.icono}"></i> ${categoria.nombre}
            </h4>
            <ul>`;
        
        categoria.items.forEach(item => {
            menuHTML += `
                <li>
                    <a href="${item.enlace}">
                        <i class="fas ${item.icono}"></i> ${item.nombre}
                    </a>
                </li>`;
        });

        menuHTML += `</ul></div>`;
    });

    menuCategories.innerHTML = menuHTML;
});
